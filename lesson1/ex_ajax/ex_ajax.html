<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>exercise extra -- ajax</title>
    <script src="../../jquery-1.12.2.js" ></script>
    <script>
        //三步实现原生ajax
        //第一，创建XMLHttpRequest，要检查高低版本IE以及非IE的兼容性
        //第二，设置请求open,发送请求send
        //第三，设置回调函数onreadystatechange，其中readyState ==4 state == 200 表示成功

        //JQ 用$.get $.post 或者最基本的$.ajax()

//        window.onload = function () {
//            var result = document.getElementById("result");
//            document.getElementsByTagName("input")[0].onclick = clickEvent;
//            function clickEvent() {
//                console.log("clicked");
//                result.innerHTML = "loading";
//                doGet("https://gist.githubusercontent.com/chenxxzhe/9ab13ac8bf41cea937b896d6d57363a0/raw/5dc4aaa0b3e6f62552ee793abfb6b7f9120bf0eb/test");


//            }

//            function createXMLHttpRequest() {
//                var xmlHttp;
//                if(window.ActiveXObject) {
//                    xmlHttp = new ActiveXObject("Microsoft.XMLHTTP"); //ie
//                } else if (window.XMLHttpRequest) {
//                    xmlHttp = new XMLHttpRequest(); //not ie
//                } else {
//                    xmlHttp = null;
//                }
//                return xmlHttp;
//            }
//
//
//
//            function doGet(url) {
//                var xmlHttp = createXMLHttpRequest();
//                if (xmlHttp) {
//                    xmlHttp.open("GET", url);
//                    xmlHttp.send();
//                    xmlHttp.onreadystatechange = function () {
//                        if (xmlHttp.readyState == 4) {
//                            if (xmlHttp.status == 200) {
//                                result.innerHTML = xmlHttp.responseText;
//                            } else {
//                                result.innerHTML = "Error:";
//                            }
//                        }
//                    };
//                }
//
//            }


//        };
    </script>
    <script>
        $(function () {
            $("input").click(function() {
                $("#result").html("loading");
                console.log("clicked");
                $.get("https://gist.githubusercontent.com/chenxxzhe/9ab13ac8bf41cea937b896d6d57363a0/raw/5dc4aaa0b3e6f62552ee793abfb6b7f9120bf0eb/test", function(data, status) {
                    $("#result").html("data: " + data + ", status: " + status);
                })
            })
        })
    </script>
</head>
<body>
<input type="button" value="Go AJAX!" />
<p id="result"></p>
</body>
</html>
<!--https://gist.githubusercontent.com/chenxxzhe/9ab13ac8bf41cea937b896d6d57363a0/raw/5dc4aaa0b3e6f62552ee793abfb6b7f9120bf0eb/test-->